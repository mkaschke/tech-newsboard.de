<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>TNB - Board for tech news </title>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
</head>
  <body>
  TEST
  
<div id="#news-container"> 
<div class="sorter" data-date="2017-04-04" data-time="16:20:07">2017-04-04 16:20:07 </div>
<div class="sorter" data-date="2017-03-30" data-time="11:50:44">2017-03-30 11:50:44<div class="auto"></div></div>
<div class="sorter" data-date="2017-04-04" data-time="15:49:07">2017-04-04 15:49:07</div>

</div>


<script type="text/javascript"  src="js/handlebars.js"></script>
<script type="text/javascript"  src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
<script type="text/javascript"  src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript"  src="js/jquery.cookie.js"></script>  
<script type="text/javascript" src="js/masonry.pkgd.min.js"></script>  
<script type="text/javascript"  src="js/imagesloaded.pkgd.min.js"></script> 
<!-- <script type="text/javascript"  src="js/main.js"></script> -->
<script type="text/javascript" src="js/menu.js"></script>  
<script type="text/javascript" src="social.js"> </script>
<script type="text/javascript" src="date.js"> </script>


<script>
$(document).ready(function () {
  console.log("Sorting test");

  jQuery.fn.sortElements = (function(){
 
    var sort = [].sort;
 
    return function(comparator, getSortable) {
 
        getSortable = getSortable || function(){return this;};
 
        var placements = this.map(function(){
 
            var sortElement = getSortable.call(this),
                parentNode = sortElement.parentNode,
 
                // Since the element itself will change position, we have
                // to have some way of storing its original position in
                // the DOM. The easiest way is to have a 'flag' node:
                nextSibling = parentNode.insertBefore(
                    document.createTextNode(''),
                    sortElement.nextSibling
                );
 
            return function() {
 
                if (parentNode === this) {
                    throw new Error(
                        "You can't sort elements if any one is a descendant of another."
                    );
                }
 
                // Insert before flag:
                parentNode.insertBefore(this, nextSibling);
                // Remove flag:
                parentNode.removeChild(nextSibling);
 
            };
 
        });
 
        return sort.call(this, comparator).each(function(i){
            placements[i].call(getSortable.call(this));
        });
 
    };
 
})();

  // $('.sorter').sortElements(function(a, b){
  //   return Date.parse($(a).data('date')) > Date.parse($(b).data('date')) ? 1 : -1;});

  function sortDate(){
    console.log("lÃ¤uft");
    $('.sorter').sortElements(function(a, b){
          console.log("datum");

       var aValue = Date.parse($(a).data('date'));
       var bValue = Date.parse($(b).data('date'));
     
      return aValue > bValue ? -1 : 1;});

   
      $('.sorter').sortElements(function(c, d){

            if (Date.parse($(c).data('date')) === Date.parse($(d).data('date'))){
                       console.log("time");
               return Date.parse($(c).data('time')) > Date.parse($(d).data('time')) ? -1 : 1;
                }

      });
    }; 
 


  sortDate();




}); // close ready







</script>

</body> 
</html>